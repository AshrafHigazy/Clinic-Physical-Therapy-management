@model Clinic_Management_System.Models.InternDoctor

@{
    ViewData["Title"] = "تفاصيل الطبيب المتدرب";
    var startOfMonth = new DateTime(DateTime.Now.Year, DateTime.Now.Month, 1);
    var endOfMonth = startOfMonth.AddMonths(1).AddDays(-1);
}

<div class="container py-4">
    <div class="card card-modern">

        <!-- 🔷 العنوان -->
        <h3 class="text-primary fw-bold text-center mb-4">
            <i class="bi bi-person-vcard"></i> تفاصيل الطبيب المتدرب
        </h3>

        <!-- 🔷 تفاصيل الطبيب -->
        <div class="details-box mb-4">
            <p><strong>الكود:</strong> @Model.InternDoctorId</p>
            <p><strong>الاسم الكامل:</strong> @Model.FullName</p>
            <p><strong>الهاتف:</strong> @Model.Phone</p>
            <p>
                <strong>الحالة:</strong>
                @if (Model.IsActive)
                {
                    <span class="badge bg-success px-3 py-2">نشط</span>
                }
                else
                {
                    <span class="badge bg-danger px-3 py-2">غير نشط</span>
                }
            </p>
            <p><strong>ملاحظات:</strong> @Model.Notes</p>
        </div>

        <hr />

        <!-- 🔷 اختيار الفترة -->
        <form asp-controller="InternDoctorAttendance" asp-action="Dashboard" method="get" class="text-center">
            <input type="hidden" name="id" value="@Model.InternDoctorId" />

            <div class="row justify-content-center mb-4">

                <div class="col-md-3">
                    <label class="form-label fw-semibold text-primary">📅 من تاريخ</label>
                    <input type="date" name="from" class="form-control border-2 rounded-3"
                           value="@startOfMonth.ToString("yyyy-MM-dd")" />
                </div>

                <div class="col-md-3">
                    <label class="form-label fw-semibold text-primary">📅 إلى تاريخ</label>
                    <input type="date" name="to" class="form-control border-2 rounded-3"
                           value="@endOfMonth.ToString("yyyy-MM-dd")" />
                </div>

            </div>

            <button type="submit" class="btn btn-success px-4 rounded-pill">
                <i class="bi bi-bar-chart-line"></i> عرض تقرير الحضور
            </button>
        </form>

        <hr />

        <!-- 🔘 الأزرار -->
        <div class="text-center mt-3">
            <a asp-action="Index" class="btn btn-outline-secondary px-4 rounded-pill">
                <i class="bi bi-arrow-return-left"></i> رجوع
            </a>

            <a asp-action="Edit" asp-route-id="@Model.InternDoctorId"
               class="btn btn-warning text-white px-4 rounded-pill ms-2">
                <i class="bi bi-pencil-square"></i> تعديل
            </a>
        </div>
    </div>
</div>

@section Scripts {
    <style>

        /* 🌟 الكارد الأزرق الموحد */
        .card-modern {
            background: #fff;
            border-radius: 20px;
            padding: 30px;
            border: 2px solid #0077B6;
            box-shadow: 0 10px 30px rgba(0,119,182,0.45);
            animation: fadeIn .4s ease;
        }

        .details-box p {
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        /* 🌟 مدخلات التاريخ */
        .form-control {
            border: 2px solid #00B4D8;
            border-radius: 10px;
            transition: all .3s ease;
        }

            .form-control:focus {
                border-color: #0077B6;
                box-shadow: 0 0 0 .2rem rgba(0,183,255,0.25);
            }

        /* 🌟 زر التقرير */
        .btn-success {
            background-color: #06d6a0;
            border-color: #06d6a0;
        }

            .btn-success:hover {
                background-color: #05b384;
            }

        @@keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
}
